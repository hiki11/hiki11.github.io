<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>After Effects 相机内部 | hiki's blog</title><meta name="author" content="hiki"><meta name="copyright" content="hiki"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="以下均为机翻原文链接  克里斯·兹瓦尔2014 年 5 月 19 日  After Effects 最强大的功能之一是能够使用 3D 图层和虚拟相机。虽然将相机添加到合成中并对其进行动画处理很简单，但通过对相机工作原理以及各种设置含义的基本技术了解，可以对最终结果进行更好的创意控制。 本文的目的是尝试弥合 After Effects 相机的创意和技术方面之间的一些差距。对于那些编写使用相机设置的脚">
<meta property="og:type" content="article">
<meta property="og:title" content="After Effects 相机内部">
<meta property="og:url" content="http://example.com/2023/12/28/After-Effects-%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/index.html">
<meta property="og:site_name" content="hiki&#39;s blog">
<meta property="og:description" content="以下均为机翻原文链接  克里斯·兹瓦尔2014 年 5 月 19 日  After Effects 最强大的功能之一是能够使用 3D 图层和虚拟相机。虽然将相机添加到合成中并对其进行动画处理很简单，但通过对相机工作原理以及各种设置含义的基本技术了解，可以对最终结果进行更好的创意控制。 本文的目的是尝试弥合 After Effects 相机的创意和技术方面之间的一些差距。对于那些编写使用相机设置的脚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/avatar.png">
<meta property="article:published_time" content="2023-12-28T09:23:27.000Z">
<meta property="article:modified_time" content="2025-06-29T05:35:02.980Z">
<meta property="article:author" content="hiki">
<meta property="article:tag" content="Ae">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/avatar.png"><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="http://example.com/2023/12/28/After-Effects-%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'After Effects 相机内部',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-29 13:35:02'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 编程笔记</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/Java"><i class="fa-fw fa-solid fa-mug-hot"></i><span> Java</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> CS2</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/%E9%81%93%E5%85%B7"><i class="fa-fw fa-solid fa-bomb"></i><span> 道具</span></a></li><li><a class="site-page child" href="/tags/cfg"><i class="fa-fw fa-solid fa-file"></i><span> CFG</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="hiki's blog"><span class="site-name">hiki's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> 编程笔记</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/Java"><i class="fa-fw fa-solid fa-mug-hot"></i><span> Java</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> CS2</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/%E9%81%93%E5%85%B7"><i class="fa-fw fa-solid fa-bomb"></i><span> 道具</span></a></li><li><a class="site-page child" href="/tags/cfg"><i class="fa-fw fa-solid fa-file"></i><span> CFG</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">After Effects 相机内部</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-28T09:23:27.000Z" title="发表于 2023-12-28 17:23:27">2023-12-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-29T05:35:02.980Z" title="更新于 2025-06-29 13:35:02">2025-06-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BD%B1%E8%A7%86/">影视</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><strong>以下均为机翻</strong><br><a target="_blank" rel="noopener" href="https://www.provideocoalition.com/inside-the-after-effects-camera/">原文链接</a></p>
<blockquote>
<p><img src="https://www.provideocoalition.com/wp-content/uploads/Chris_Zwar-2-48x48.jpg" alt="个人资料图片"><a target="_blank" rel="noopener" href="https://www.provideocoalition.com/author/czwar/">克里斯·兹瓦尔</a><br>2014 年 5 月 19 日</p>
</blockquote>
<p>After Effects 最强大的功能之一是能够使用 3D 图层和虚拟相机。虽然将相机添加到合成中并对其进行动画处理很简单，但通过对相机工作原理以及各种设置含义的基本技术了解，可以对最终结果进行更好的创意控制。</p>
<p>本文的目的是尝试弥合 After Effects 相机的创意和技术方面之间的一些差距。对于那些编写使用相机设置的脚本和表达式的人来说，它可能最有用。如果你想<a target="_blank" rel="noopener" href="https://www.provideocoalition.com/czwar/story/inside-the-after-effects-camera/P6">跳到最后</a>，那么最后一页上有一些复制和粘贴表达式。</p>
<p>当您在任何图形应用程序中使用虚拟相机时（不仅仅是 After Effects），理解所使用的略有不同的术语可能会令人困惑。不幸的是，在某些情况下，不同的应用程序对同一事物使用不同的名称，因此首先我们将介绍相机的基本原理，然后我们将讨论它们应用于 After Effects 的方式。</p>
<h4 id="背景-–-真实相机-101"><a href="#背景-–-真实相机-101" class="headerlink" title="背景 – 真实相机 101"></a>背景 – 真实相机 101</h4><p>在最基本的层面上，相机是将图像聚焦到表面上的镜头。最简单的相机类型是“<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Camera_obscura">暗箱</a>”，它基本上是一个有孔的盒子。有一些著名的暗箱向公众开放的<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Camera_Obscura_(San_Francisco,_California)">例子</a>，最近荷兰艺术家维米尔使用暗箱来创作画作的理论受到了<a target="_blank" rel="noopener" href="http://www.sonyclassics.com/timsvermeer/">很多关注。</a></p>
<p>暗箱无法对其产生的图像进行任何控制，因此现代相机发明的最大进步之一就是引入了镜头来取代小孔。</p>
<p>镜头是我们对相机产生的图像最基本的控制。镜头精确控制整个场景的“捕捉”或记录的程度。选择镜头并描述给定镜头的属性是使用相机时最重要的部分之一。</p>
<p>本文的大部分内容是关于测量和控制相机镜头的，但是虽然列出所涉及的数学很容易，但解释镜头在使用相机时所具有的创造性重要性 <em>要困难得多。</em> 有许多资源可以解释<a target="_blank" rel="noopener" href="https://www.google.com.au/search?q=camera+focal+length+examples&sa=X&tbm=isch&tbo=u&source=univ&ei=Vnd5U9-PI4TQkgX3koHYCA&ved=0CDMQsAQ&biw=1620&bih=1025">不同镜头的性能</a>，并且专业摄影师花费大量时间讨论和比较可能花费数万美元的现实世界镜头。</p>
<p>维基百科是一个很好的概述<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Focal_Length#In_photography">不同镜头对图像效果的</a>地方，并且还有许多其他类似的资源专注于创意方面。</p>
<p>所以在我们深入研究之前，请相信我——镜头很重要。</p>
<h4 id="理解——和误解——透视透视法"><a href="#理解——和误解——透视透视法" class="headerlink" title="理解——和误解——透视透视法"></a>理解——和误解——透视透视法</h4><p>选择特定镜头有很多创造性的原因，但人们经常教授的关于镜头的一件事略有错误。</p>
<p>几乎在所有摄影教科书中，您都会找到一些关于长焦镜头如何压缩背景的陈述，或者广角镜头如何增加物体之间的视距离，或者类似的效果。无论该声明的措辞如何，通常都认为您选择的镜头将决定物体出现在一起的距离。</p>
<p>这并不完全正确。这也不是完全错误的，但镜头只是等式的一半。在制作相机动画时，理解这种误解非常重要。</p>
<p>如果用广角镜头和长焦镜头拍摄同一张照片，它们看起来确实会有所不同。正如教科书所说，长焦版本看起来会“更平坦”，并且物体看起来比广角版本中的距离更近。这种差异是选择镜头或制作镜头动画时的关键创意考虑因素之一。</p>
<p>这是 After Effects 的示例，其中 7 个矩形排列在 3d 空间中，每个矩形相距 200 像素。使用 3 种不同的相机镜头设置（24 毫米、50 毫米和 135 毫米）渲染出相同的构图。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515287072.png" alt="1699515287072"></p>
<p>您可以清楚地看到差异。这样看来，教科书上的说法是正确的——与中间的镜头相比，广角镜头增加了矩形之间的距离，而长焦镜头则将它们压平了。</p>
<p>那么如果效果是真实的，为什么教科书上会稍有错误呢？</p>
<p>答案是因为这不仅仅是镜头本身。这实际上是 <strong>相机到拍摄对象的距离不同</strong> - 当镜头改变时，相机位置也会改变，以便取景保持不变。</p>
<p>如果我们考虑三个镜头——广角镜头、长焦镜头和中间的“普通”镜头——那么每次我们在这些镜头之间更换时，相机都会看到不同的结果。广角镜头将比“普通”镜头向我们展示更多的场景，而长焦镜头将向我们展示更少的场景。</p>
<p>但改变镜头会改变镜头的取景——而这并不是我们所说的我们正在做的事情。我们说过，我们将所有三个版本的取景都相同，为了做到这一点，我们需要移动相机以补偿不同的镜头。当我们使用广角镜头时，我们需要将相机向前移动，当我们使用长焦镜头时，我们需要向后移动相机。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515295006.png" alt="1699515295006"></p>
<p><em>场景的侧视图，显示 3 个摄像机位置和 7 个矩形。</em></p>
<p>当我们对场景进行构图以使三个镜头看起来相同时，我们的相机处于三个不同的位置。 </p>
<p><strong>导致照片看起来不同的是拍摄对象与相机位置的相对位置的差异，而不仅仅是镜头本身。</strong></p>
<p>正如我之前所说，视角的差异<em>是</em>存在的，这是摄影师经常使用的工具。通过使用长焦镜头从远处拍摄两个很远的物体，可以使它们看起来更近。当演员的安全很重要时，这在电影中经常被利用。 </p>
<p>例如，<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=9cb5Ka9SqGM">在电影《鲍芬格》中的高速公路场景中</a>，导演弗兰克·奥兹需要营造出艾迪·墨菲被超速行驶的汽车包围的印象。通过使用强大的长焦镜头从很远的地方拍摄特写镜头和剖面图，汽车可以与墨菲保持安全距离，同时看起来非常接近。这意味着特写镜头和切角镜头可以在摄像机内拍摄，无需特技替身或额外昂贵的绿屏视觉效果。</p>
<blockquote>
<p>镜头选择决定前景和背景物体如何出现的想法是如此普遍，以至于很容易忽视，实际上镜头选择<strong>和到相机的距离</strong>之间的关系才是重要的。</p>
</blockquote>
<p>对于异常高或窄的构图，需要考虑从主题到相机的距离。如果在相机靠近场景的情况下使用更广角的镜头，则场景的两侧会出现扭曲和扭曲，因为它们比中间距离相机远得多。解决这个问题的方法是将相机移得更远，并使用宽度较小的镜头，这样画面边缘的物体与相机的距离与中心的物体的距离更相似。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515304545.png" alt="1699515304545"></p>
<hr>
<h4 id="衡量标准"><a href="#衡量标准" class="headerlink" title="衡量标准"></a>衡量标准</h4><p>大多数人都熟悉广角和长焦镜头以及允许操作者手动调整镜头的变焦镜头的概念。然而，除了这些简单的术语之外，专业人士还需要能够更精确地描述镜头。</p>
<p>虽然“广角”和“长焦”这两个术语被广泛使用，但还有两种技术方法可以用来精确描述和测量镜头的特性。</p>
<p>在传统摄影中，换句话说，当我们拥有真正的相机时，惯例是以毫米为单位来描述镜头，这是对第一个镜头元件与图像聚焦表面之间距离的测量。 </p>
<p>因为我们指的是物理距离，所以这被称为镜头的 <strong>焦距。</strong> 您可能会看到描述为 50mm 镜头或 28mm 镜头的镜头——这就是焦距。50 毫米镜头意味着镜头距图像传感器 50 毫米，图像传感器现在是微芯片，但在过去是一条胶片。这是一个非常字面的术语。</p>
<p>出于本文的目的，我将使用术语“图像平面”来指代相机记录图像的点。如上所述，“图像平面”可以是相机中的胶片、宝丽来相机中的相纸、数码相机或手机中的 CCD，或者是旧金山桥暗箱中的墙壁。这基本上就是我们拍摄照片的焦点所在。</p>
<p>因此，镜头的焦距是从镜头到像平面的距离。</p>
<p>变焦镜头允许我们通过物理方式将镜头移得更远或更靠近图像平面来改变焦距。变焦镜头将按照其涵盖的最小到最大焦距进行描述，例如 28 – 80 毫米变焦。在这种情况下，镜头将在距离图像平面 28 毫米到 80 毫米之间进行物理滑动。这就是当您更改设置时变焦镜头会伸出的原因。 </p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515313782.png" alt="1699515313782"></p>
<p>镜头距离像平面越近，图像越宽，换句话说，您看到的越多。</p>
<p>镜头距离越远，场景放大得越多。你看不到侧面那么多。望远镜是长焦镜头的极端版本。</p>
<p>因此，广角镜头的焦距较小，而长焦镜头的焦距较长。</p>
<p>这就是长焦镜头这么长的原因之一——当你看到体育摄影师甚至狗仔队拿着大长焦镜头时，这是因为玻璃镜头距离图像传感器太远——这些镜头的焦距非常长。</p>
<p>摄影师和摄影导演也将此作为一种行话——您经常会听到摄影指导说某些东西是“用长镜头拍摄的”。</p>
<h4 id="光学极客演讲"><a href="#光学极客演讲" class="headerlink" title="光学极客演讲"></a>光学极客演讲</h4><p>一百多年来，摄影师一直很高兴地用焦距来描述他们的镜头。但当极客们参与进来并开始研究光学系统的科学和数学时，他们开始使用不同的系统。</p>
<p>数学家们不再用毫米为单位的焦距来描述镜头，而是更喜欢用度来描述镜头捕捉到的角度。这被称为视角或视野——大多数时候这些术语含义相同。</p>
<p><em>（在摄影中，视角始终以度为单位进行测量，但在某些特定的科学应用中，测量值可能会使用六十进制表示法列出——即分钟和秒的表示法，最常见的是与纬度和经度相关的。）</em></p>
<p>这是对镜头可以捕捉的场景角度的精确测量，就像通过镜头顶部的假想量角器进行测量一样。广角镜头会捕捉到较大的视角，因此具有较大的视角。长焦镜头的视角会更窄，因此视角会更小。 </p>
<p>因此，当谈到描述相机的镜头时，我们已经有两种替代方法。摄影师以毫米为单位测量焦距，而数学家以度为单位测量镜头可以捕捉的角度，将其称为视角或视场。</p>
<h4 id="术语混乱"><a href="#术语混乱" class="headerlink" title="术语混乱"></a>术语混乱</h4><p>想象一下我们只是用两种不同的方法来测量同一物体，并且将以毫米为单位的焦距转换为以度为单位的视角就像从摄氏温度转换为华氏温度一样简单，那就太好了。</p>
<p>不幸的是，这两种技术都不是那么简单，并且两种方法都涉及某种类型的歧义。那么让我们来看看这两种方法比看起来更复杂。</p>
<h4 id="mm这样的问题怎么解决"><a href="#mm这样的问题怎么解决" class="headerlink" title="mm这样的问题怎么解决"></a>mm这样的问题怎么解决</h4><p>当您通过焦距来描述镜头时，您正在记录一个非常字面的、真实的物理测量。50mm 镜头实际上距离像平面 50mm，在这方面不存在混淆或歧义。</p>
<p>这种方法的问题在于，相同的焦距对于不同尺寸的图像平面会产生 <em>不同的结果</em> 。同样的镜头，如果像面较小则可以认为是长焦镜头，如果像面较大则可以认为是广角镜头。</p>
<p>当摄影师过去使用胶片拍摄时，这不是问题，因为几乎每个地方的摄影师都使用相同尺寸的胶片（35 毫米）进行拍摄。35 毫米胶片是事实上的标准，唯一使用不同尺寸（例如 70 毫米中画幅胶片）的人是了解自己在做什么的专业人士。</p>
<p>因此，只要 35 毫米胶片是最流行的摄影格式，用毫米来描述镜头的焦距就非常有效，因为每个人都可以放心地假设焦距是相对于相同尺寸的图像平面而言的。</p>
<p>但如今摄影已由数码相机占据主导地位，并且<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Image_sensor_format">所使用的图像传感器有许多不同的尺寸</a>。有少数数码相机具有与 35mm 胶片相同尺寸的图像传感器，但通常有几种不同的尺寸可供选择，因此相同的<em>镜头</em>在不同的相机上会产生 <em>不同的结果</em> 。</p>
<p>这意味着仅靠焦距不足以描述镜头的表现，我们还需要像平面的大小来判断镜头是广角还是长焦。</p>
<p>这就是通过焦距描述镜头的问题：虽然以毫米为单位测量焦距可以为我们提供真实世界的测量结果，但我们不能单独使用焦距来预测镜头的性能，除非我们知道镜头的尺寸图像平面也是如此，这在不同的相机之间有所不同。</p>
<h4 id="唯一的方法是向上、向下或穿过"><a href="#唯一的方法是向上、向下或穿过" class="headerlink" title="唯一的方法是向上、向下或穿过"></a>唯一的方法是向上、向下或穿过</h4><p>通过测量视角来描述镜头似乎是一个更好的选择，但不幸的是这种方法也存在问题。</p>
<p>由于摄影镜头是圆形的，因此它们会生成圆形图像。无论镜头是鞋盒上的一个孔还是一块具有自动对焦和图像稳定功能的昂贵玻璃，它都会产生圆形图像。</p>
<p>如果我们生成圆形图像，那么通过视角来测量镜头就会很容易，因为圆形的定义属性之一是它在所有方向上具有相同的直径。无论我们以哪种方式测量圆，它都有相同的宽度——这相当于相同的视角。</p>
<p>问题在于照片、电影和电视节目一直都是以矩形的形式制作的。相机是否将图像记录到胶片、宝丽来相纸或数字图像传感器上并不重要——在所有现实情况下，从镜头中出来的圆形图像都会被裁剪成矩形。</p>
<p>许多不同的领域和学科都在使用许多不同的格式、尺寸和纵横比。即使我们只看电影和电视，也有<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Aspect_ratio_(image)">几种不同的宽高比</a>需要考虑 - 从最初的 1: 1.3 宽高比到当前的 Panavision 宽银幕宽高比 1: 2.39</p>
<p>当我们观察矩形而不是圆形时，例如电视使用的标准 16:9 宽高比，可以测量三个不同的轴作为“视角”——水平、垂直和对角线。</p>
<p>这意味着仅仅拥有“视角”并不足以了解镜头的性能，我们还需要知道测量是水平、垂直还是对角线。没有首选的通用标准——当我们有极端的纵横比时，它们之间的差异可能会非常大。数学家、计算机程序员、科学家和技术人员对测量视角的偏好各不相同，甚至计算机游戏中使用的不同 3D 引擎也使用不同的设置 — 有些是水平的，有些是对角线的。</p>
<p>这就是“视角”的问题——再一次，原始数字是不够的，我们还需要知道测量是水平、垂直还是对角线。当尝试将 After Effects 中的相机设置与其他应用程序中的相机设置进行匹配时，这直接相关。</p>
<hr>
<h4 id="这是传统"><a href="#这是传统" class="headerlink" title="这是传统"></a>这是传统</h4><p>我们可以总结到目前为止的一切：</p>
<p>1）镜头是基本的创作工具。</p>
<p>2）镜头和相机位置之间的关系决定了镜头的构图。</p>
<ol start="3">
<li>镜头通过焦距（以毫米为单位）或视角（以度为单位）来测量。</li>
<li>在我们预测镜头的输出之前，这两种测量都需要额外的信息。</li>
</ol>
<p>5）镜头的焦距以毫米为单位，但我们需要知道像平面的大小才能判断镜头是广角还是长焦。</p>
<p>6）视角以度为单位测量，但我们还需要知道测量是水平、垂直还是对角线。</p>
<p>与理解这些差异同样重要的是理解这些术语在整个摄影史上的使用方式。</p>
<p>直到最近，35 毫米胶片一直是静态摄影中使用的主要胶片格式。35 毫米胶片格式<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/35mm_film">非常古老</a>- 它于 1890 年代开发 - 并于 1909 年成为电影的官方标准。 </p>
<p>虽然早期的电影摄影机将胶片垂直地穿过摄影机并记录长宽比为 1: 1.3 的图像，但胶片尺寸的流行意味着许多制造商尝试对其进行调整以用于静态相机。通过将胶片水平地而不是垂直地穿过相机，可以捕获比电影摄影机更大的图像。早在 1914 年，静态相机就已开发出来，可以将 36 毫米 x 24 毫米的图像尺寸捕获到 35 毫米宽的胶片上，但不同公司提供了许多不同的变体。 </p>
<p>1925 年，徕卡发布了一款将 36 毫米 x 24 毫米图像尺寸记录到 35 毫米胶片上的相机，它变得非常受欢迎 - 到 20 世纪 50 年代，该尺寸已成为全球摄影师最流行的胶片格式。</p>
<p>从那时起，“35mm 摄影”一词就成为记录 36mm x 24mm 图像尺寸的代名词，并且至少 50 年来，这种格式已经如此普遍，以至于所有相机和摄影设备都被假定为用于 35mm 摄影，除非特别说明。这包括镜头。</p>
<p>由于摄影师假设每个人都在拍摄 35 毫米胶片并记录 36 毫米 x 24 毫米的图像尺寸，因此仅通过焦距来描述镜头，一代又一代的摄影师了解这些数字与他们制作的图像有何关系。</p>
<p>在某些时候，有人声称 50mm 镜头产生的图像与人眼所看到的图像（拍摄 35mm 胶片时）相匹配。这种说法已经被重复了很长时间，以至于它已经成为某种类型的摄影机构。如果你拿起一本关于摄影的书，那么它肯定就在里面的某个地方。</p>
<p>虽然 50 毫米镜头与人眼相当的想法并不正确，并且有很多关于该主题的网站文章和讨论，但 50 毫米镜头被认为是“标准”或“普通”镜头。这基本上意味着它不是广角镜头或长焦镜头，而是位于中间。这很正常。</p>
<p>50mm 镜头可以说是摄影基准。它是“正常”的简写。它被认为是所有其他镜头的起点或参考点。 </p>
<p>50mm 镜头被视为“标准”，任何焦距较小的镜头都被视为广角镜头，任何焦距较大的镜头都被视为长焦镜头。随着时间的推移，特定焦距变得流行，并被认为是摄影师的主要工具。</p>
<p>35毫米和28毫米镜头是流行的广角镜头，而焦距在80至105毫米之间的镜头通常被称为“人像”镜头，因为它们很受拍摄人像的摄影师的欢迎。这也值得评论一下，因为很多摄影书籍都会声称，80-105毫米左右焦段的镜头很受人像摄影师的欢迎，因为它们使脸部稍微变平，使人看起来更有魅力。 </p>
<p>这是我们之前看到的关于透视的同一主张的更具体版本，完整的解释再次与相机的位置有关。如果摄影师必须使用普通 50 毫米或更宽的镜头拍摄肖像，那么他们需要离拍摄对象非常近。这不仅让所有参与者感到不舒服，而且还可能导致光照和阴影的实际问题。如果摄影师使用比 105 毫米长得多的镜头，那么他们就必须距离拍摄对象几米远——这在小型工作室中是不可能的，即使是这样，也对亲密感没有什么帮助。使用焦距在 80 至 105 毫米之间的镜头意味着摄影师与拍摄对象之间的距离舒适且实用，因此很受欢迎。</p>
<p>确实，在相同的取景范围下，用 105mm 镜头拍摄的人像会比用 50mm 镜头拍摄的人像看起来“更平”，但拍摄对象的外观更漂亮，这只能说明较长镜头是首选的一半原因。400mm 镜头可能更讨人喜欢，但如果摄影师必须站在 10 米之外，它就没那么有用了。</p>
<p>当数值非常低时，镜头会产生独特的“<a target="_blank" rel="noopener" href="https://www.google.com.au/search?q=fisheye&source=lnms&tbm=isch&sa=X&ei=_op5U73qKcfdkAW63ICYDA&ved=0CAYQ_AUoAQ&biw=1620&bih=1025">鱼眼</a>”效果，而当数值非常高时，相机就像望远镜一样——阿尔弗雷德·希区柯克在电影《后窗》中将这种效果用作叙事手段。</p>
<p>由于数码摄影已经超越了 35mm 胶片， <em>摄影师仍然会根据镜头与 35mm 胶片的表现来参考镜头</em> ，尽管数码图像传感器的尺寸可能有所不同。一些制造商会给出“转换系数”或“<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Crop_factor">裁剪系数</a>”，以便用于描述镜头的数字可以转换为 35mm 行业标准。 </p>
<p>例如，佳能 APS-C 镜头的转换系数为 1.6。这意味着 APS-C 相机上的 31.25mm 镜头将产生与 35mm 相机上的 50mm 镜头相同的图像 (31.25 x 1.6 &#x3D; 50)，或者 APS-C 相机上的 50mm 镜头相当于 80mm 35mm 相机上的镜头 (50 x 1.6 &#x3D; 80)。</p>
<hr>
<h4 id="After-Effects-–-进入虚拟世界"><a href="#After-Effects-–-进入虚拟世界" class="headerlink" title="After Effects – 进入虚拟世界"></a>After Effects – 进入虚拟世界</h4><p>3D 图层和 After Effects 相机于 2001 年在版本 5 中引入。与现实世界的相机一样，After Effects 中的虚拟相机也配备了可以放大和缩小的虚拟“镜头”。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515335401.png" alt="1699515335401"></p>
<p>自 2001 年版本 5 以来，After Effects 相机已逐步改进并增加了一些额外的控件和设置。After Effects 中的各种参数直接与其现实世界中的等效参数相关，但虽然基本原理与现实世界摄影相同，但仍需要考虑一些重要因素。</p>
<p>首先，After Effects 使用像素进行操作。它不适用于毫米、英寸或米等测量单位。 </p>
<p>其次，After Effects 遵循数十年的传统，使用 35mm 摄影作为镜头预设的参考。</p>
<p>在 After Effects 时间轴中，相机“镜头”由“缩放”参数控制，该参数以像素为单位。我们可以将变焦参数视为等效于焦距——较小的值使我们视野更宽，较大的值使我们能够放大。</p>
<p>然而，当我们进入相机设置时，我们还会看到预设镜头列表，按焦距（以毫米为单位）列出。选择这些预设之一会导致缩放参数设置为 After Effects 等效像素值。</p>
<p>After Effects 还向我们展示了等效视角（以度为单位）。我们可以指定测量是水平、垂直还是对角线进行。</p>
<p>After Effects 的早期版本没有明确解释与 35mm 摄影相关的镜头预设，但当前版本还允许您更改“胶片尺寸”，并指定不同单位的测量值。</p>
<p><strong>即使您输入自定义胶片尺寸，只要您选择镜头预设，这些值就会变回 36 毫米 x 24 毫米——35 毫米胶片照片的尺寸。</strong></p>
<p>如果您添加带有广角镜头的新相机，After Effects 会将相机放置在更靠近构图的位置；如果您添加带有长焦镜头的新相机，则新相机会放置在更远的位置。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515343606.png" alt="1699515343606"></p>
<p>但是，如果您打开现有相机的设置并选择不同的预设，则 After Effects 不会更改相机位置。这意味着您可以直接比较不同的镜头类型。因此，如果您已经添加了相机并使用了 50mm 预设，则更改相机设置将改变输出 - 35mm 预设将为您提供更宽的视野，而 200mm 预设将显着放大图像。</p>
<h4 id="After-Effects-相机设置"><a href="#After-Effects-相机设置" class="headerlink" title="After Effects 相机设置"></a>After Effects 相机设置</h4><p>现在，我们可以了解相机设置的作用，以及 After Effects 如何使用不同的参数。</p>
<p>After Effects 以像素而不是毫米为单位测量镜头的焦距。</p>
<p>只要图层与相机的距离（以像素为单位）与镜头焦距相同，它就会显示为 100% 比例 - 换句话说，它看起来很正常。每次您在 After Effects 中创建新相机时，它都会自动将相机的 z 位置设置为与“缩放”相同。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515350135.png" alt="1699515350135"></p>
<p>随着图层远离相机，它们看起来更小。我们可以通过测量图层到相机的距离并将其计算为缩放的百分比来计算它们需要放大的量，以便它们看起来相同的大小 - 我们很快就会这样做。</p>
<h4 id="温暖而模糊"><a href="#温暖而模糊" class="headerlink" title="温暖而模糊"></a>温暖而模糊</h4><p>After Effects 中的相机设置还包括景深控制。景深是指场景中有多少部分清晰可见，在 After Effects 中，可以根据需要打开或关闭该景深。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515360702.png" alt="1699515360702"></p>
<p>如果关闭景深设置，则一切都始终清晰。打开后，相机会“聚焦”在特定的距离（可以控制和设置动画），距离焦点越远，图层就会显得越模糊。</p>
<p>在现实世界中，景深是由镜头光圈的大小来控制的——说白了就是让光线进入的孔的大小。孔越大，景深越小——物体越少。焦点。当光圈很小时，景深就很大——换句话说，一切都在焦点上。摄影师以 F 值来测量光圈，大多数真实相机镜头的 F 值范围约为 F4 到 F22。超出这个范围——特别是对于较低的数字——镜头很快就会变得非常昂贵。幸运的是，软件中的虚拟相机可以轻松实现小于 1 的光圈值，这在现实生活中几乎是不可能的。</p>
<p>在现实世界中拍照时，摄影师的选择受到可用光线量的限制。在很多情况下，摄影师可能希望使用特定的光圈值来实现所需的景深，但根本没有足够的光线。摄影师必须平衡创意意图和技术要求，才能拍出真正有效的照片。换句话说，在现实世界中，如果摄影师设置错误，那么照片就不会出来——它可能太暗或太亮。</p>
<p>使用软件中的虚拟相机，不存在曝光和光线问题，因此可以设置光圈控制来创建所需的景深，而不必担心可用的光线量。</p>
<p>随着设置的调整，也更容易看到光圈的效果 - 因此通常可以拖动光圈设置并实时预览，直到您对结果感到满意为止。</p>
<p>在相机设置对话框中，After Effects 允许您将光圈指定为光圈值，但在时间轴中光圈以像素为单位列出。有一些公式可以根据镜头焦距和光圈计算景深，但它们超出了本文的范围。</p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515382533.png" alt="1699515382533"></p>
<p>但基本上——光圈越大，图像越模糊。</p>
<hr>
<h4 id="缩小规模，缩小规模，缩小规模"><a href="#缩小规模，缩小规模，缩小规模" class="headerlink" title="缩小规模，缩小规模，缩小规模"></a>缩小规模，缩小规模，缩小规模</h4><p>在许多应用程序中，无论图层位于 3D 空间中的何处，都可以使图层显示相同的大小。那么让我们看看图层的比例与相机的变焦和位置有何关系。我在这里使用的数字对应于 1920 x 1080 的合成，并想象我们已经创建了一个相同大小的实体并将其设为 3D 图层。它的 z 位置为 0。</p>
<p>当我们使用 50mm 镜头预设创建新相机时，After Effects 会将其转换为 2666.7 像素的“缩放”值。它还将相机定位为 az 值为 -2666.7 。因为我们的图层的 z 位置为 0，这意味着它距相机 2666.7 像素。因为这与缩放值相同，所以图层显示的大小完全相同 - 100%。 </p>
<p><img src="/../images/post/AfterEffects%E7%9B%B8%E6%9C%BA%E5%86%85%E9%83%A8/1699515389933.png" alt="1699515389933"></p>
<blockquote>
<p>当 3D 图层与相机的距离与缩放值相同时，它将显示与 100% 的 2D 图层相同的大小。</p>
</blockquote>
<p>如果我们将 3D 图层移得更远，它看起来会更小 – 这就是您所期望的！如果我们将图层的 z 位置设置为 3000，则它现在距相机 5666.7 像素 (2666.7 + 3000)。</p>
<p>如果我们将新距离除以缩放值，我们就可以得到缩放百分比形式的距离。</p>
<p>(5666.7 &#x2F; 2666.7) * 100 &#x3D; 212.49%</p>
<p>如果我们采用该值并将图层放大到 212.49%，则图层将再次填充合成并显示为全尺寸。</p>
<p>反之亦然。如果我们将图层移得更近 - 例如，z 位置为 -500，那么它现在距相机 2166.7 像素。这相当于缩放值的 81.25%，如果我们将图层缩放到 81.25%，那么它会再次显示为原始大小。</p>
<p>我们可以使用表达式动态计算比例百分比，这样我们就可以为图层和相机设置动画，而无需自己重新进行数学计算。</p>
<p>我们将从一个简单的示例开始，出于示例的目的，我们假设相机称为“相机 1”。</p>
<p>Campos&#x3D;thisComp.layer(“相机1”).toWorld([0,0,0]);</p>
<p>Zoom&#x3D;thisComp.layer(“相机1”).cameraOption.zoom;</p>
<p>lpos&#x3D;thisLayer.toWorld(thisLayer.anchorPoint);</p>
<p>d&#x3D;长度(campos,lpos); &#x2F;&#x2F; 图层到相机的距离 &#x2F;&#x2F;</p>
<p>scl&#x3D;(d&#x2F;缩放)*100;</p>
<p>[scl,scl,100]</p>
<p>您可以将此表达式剪切并粘贴到 3D 图层的缩放值中，无论相机距离多远，它始终会显示为缩放为 100%。</p>
<h4 id="数学，数学，数学，这就是他们所想的一切"><a href="#数学，数学，数学，这就是他们所想的一切" class="headerlink" title="数学，数学，数学，这就是他们所想的一切"></a>数学，数学，数学，这就是他们所想的一切</h4><p>在 After Effects 中，相机设置对话框会向您显示您需要了解的所有内容，并为您完成所有计算和转换。然而，当您进入脚本和表达式时，了解如何自己进行这些转换可能会很有用。</p>
<p>存在三个相互关联的基本属性，任意两个都可以用来计算第三个：</p>
<p>– 变焦（焦距以像素为单位）</p>
<p>– 视角（以度为单位）</p>
<p>– 对角线大小（以像素为单位）</p>
<p>我之前指出，通过视角描述镜头的问题之一是您还需要知道正在测量哪个尺寸。当涉及到镜头和光学的数学时，会使用对角线。 </p>
<p>我们可以使用毕达哥拉斯定理从构图的宽度和高度计算构图的对角线长度。这是高中教授的简单 C ^2^ &#x3D;A ^2^ +B ^2公式，但我们可以在这里将其写为 After Effects 表达式：^</p>
<p>w&#x3D;thisComp.宽度；</p>
<p>h&#x3D;thisComp.height;</p>
<p>hyp&#x3D;Math.sqrt((w<em>w)+(h</em>h));</p>
<p>正如我们在高中时所知，三角形对角边的术语是斜边，因此我使用了变量名称 hyp。</p>
<p>如果我们知道对角线的大小和视角，那么我们就可以计算出焦距。在 After Effects 中，焦距以像素为单位进行测量。我遇到过几次从 Maya 导入的摄像机的缩放值错误的情况，如果您知道 Maya 中摄像机的视角，那么您可以为 After Effects 计算正确的像素值。</p>
<p>由于 After Effects 使用 Javascript 进行表达式，因此我们必须注意度数和弧度的使用。使用相机时，视角以度为单位，但 Javascript 中的三角计算是使用弧度完成的。由于我们将使用正切和反正切函数，因此在进行数学计算之前，我们需要将视角转换为弧度。</p>
<p>作为示例，我们将计算 1920 x 1080 构图中 50mm 相机的变焦值（After Effects 中焦距的术语）。从相机设置对话框中我们知道，如果我们选择 50mm 镜头预设，则视角（对角线）为 44.9 度。</p>
<p>w&#x3D;thisComp.宽度；</p>
<p>h&#x3D;thisComp.height;</p>
<p>hyp&#x3D;Math.sqrt((w<em>w)+(h</em>h));</p>
<p>aov&#x3D;44.9；&#x2F;&#x2F; 视角（以度为单位） &#x2F;&#x2F;</p>
<p>rad&#x3D;degsToRadians(aov&#x2F;2); &#x2F;&#x2F; 转换为弧度 &#x2F;&#x2F;</p>
<p>缩放&#x3D;hyp&#x2F;(2*Math.tan(rad))</p>
<p>[飞涨]</p>
<p>如果您自己尝试一下，您会发现给定的缩放值为 2665.7，这与 After Effects 给您的默认值 2666.7 略有不同。这是由于较小的舍入误差造成的，因为 After Effects 只为我们提供了一位小数点后的视角。如果我们输入视角为 44.885 而不是 44.9，那么我们得到的结果是 2666.7。</p>
<p>我们还可以将 After Effects 中的缩放值转换为以度为单位的视角。如果我们已经在 After Effects 中创建了相机缩放设置并对其进行了动画处理，并且想要将数字转换到使用视角定义相机的不同应用程序（例如 Maya），那么这非常有用。</p>
<p>w&#x3D;thisComp.宽度；</p>
<p>h&#x3D;thisComp.height;</p>
<p>hyp&#x3D;Math.sqrt((w<em>w)+(h</em>h));</p>
<p>缩放&#x3D;2666.7；</p>
<p>aov&#x3D;2<em>Math.atan(hyp&#x2F;(zoom</em>2));</p>
<p>aov&#x3D;radiansToDegrees(aov);</p>
<p>[aov]</p>
<p>如果您尝试此操作，您将看到给定的视角值为 44.885 度 - 比相机设置框中显示的 44.9 度更精确的值。</p>
<p>这也是一个很好的例子，说明了在表达式中使用角度和弧度是如何令人困惑的。在第一个示例中，我们从以度为单位描述的视角开始，因此在调用正切函数之前，我们必须将其转换为弧度。</p>
<p>然而，在第二个示例中，我们使用反正切函数，但我们输入的值不是以度为单位的测量值 - 它是斜边与焦距的比率。该比率不是以度数来测量的，因此无需将其转换为弧度。众所周知，混合度数和弧度通常是一件痛苦的事情，在这种情况下，我们必须确保我们不会得意忘形，并在不必要时进行转换。</p>
<p>最后，如果我们知道变焦值和视角，那么我们就可以计算出斜边的尺寸，或者构图的对角线尺寸。因为我们从以度为单位测量的视角开始，所以我们必须首先将值转换为弧度。</p>
<p>缩放&#x3D;2666.7；</p>
<p>aov&#x3D;44.885；</p>
<p>rad&#x3D;度数转弧度(aov);</p>
<p>hyp&#x3D;2<em>缩放</em>(Math.tan(rad&#x2F;2));</p>
<p>[嗨]</p>
<h4 id="规模化——凭感觉"><a href="#规模化——凭感觉" class="headerlink" title="规模化——凭感觉"></a>规模化——凭感觉</h4><p>前面我们列出了一个简单的表达式，用于计算将图层保持 100% 大小所需的比例，无论相机位于何处。</p>
<p>我们可以更新此表达式以考虑图层的比例，这样我们就不必假设图层为 100%。我们仍然可以向上或向下缩放图层，并且它会随着相机的移动而保持不变：</p>
<p>Campos&#x3D;thisComp.layer(“相机1”).toWorld([0,0,0]); &#x2F;&#x2F; 相机位置 &#x2F;&#x2F;</p>
<p>Zoom&#x3D;thisComp.layer(“相机1”).cameraOption.zoom; &#x2F;&#x2F; 相机变焦 &#x2F;&#x2F;</p>
<p>lpos&#x3D;thisLayer.toWorld(thisLayer.anchorPoint); &#x2F;&#x2F; 图层位置 &#x2F;&#x2F;</p>
<p>lscl&#x3D;thisLayer.transform.scale; &#x2F;&#x2F; 图层比例 &#x2F;&#x2F;</p>
<p>d&#x3D;长度(campos,lpos); &#x2F;&#x2F; 图层到相机的距离 &#x2F;&#x2F;</p>
<p>xscl&#x3D;lscl[0];yscl&#x3D;lscl[1];zscl&#x3D;lscl[2];</p>
<p>x&#x3D;(d&#x2F;缩放)*xscl;</p>
<p>y&#x3D;(d&#x2F;缩放)*yscl;</p>
<p>z&#x3D;(d&#x2F;缩放)*zscl;</p>
<p>[x,y,z]</p>
<p>如果将此表达式应用于 3D 图层的缩放属性，即使相机改变位置，它也将始终显示相同的大小。</p>
<hr>
<h4 id="兴趣表达"><a href="#兴趣表达" class="headerlink" title="兴趣表达"></a>兴趣表达</h4><p>2001 年随 After Effects 版本 5 推出的虚拟相机具有与现实世界相机相同的所有品质，即使某些术语略有不同。</p>
<p>对于 After Effects 表达者、脚本编写者或只是好奇的人来说，需要了解一些基本知识才能更有效地使用相机。</p>
<p>– 相机设置对话框中的镜头预设与 35mm 摄影相关。50mm预设被认为是普通镜头。</p>
<p>– After Effects 将焦距称为“缩放”，并以像素为单位进行测量。</p>
<p>– 创建新相机时，After Effects 会自动定位新相机，使其与合成中心的距离与“缩放”值相同。 </p>
<p>– 当图层与相机的距离与“缩放”量相同时，它将显示为 100% 的 2D 图层。</p>
<p>虚拟相机具有三个主要的定义属性——焦距、视角和图像平面的对角线尺寸——任意两个都可以用来计算第三个属性。</p>
<p><strong>&#x2F;&#x2F; 使用视角计算镜头的“变焦”（焦距） &#x2F;&#x2F;</strong></p>
<p>w&#x3D;thisComp.宽度；</p>
<p>h&#x3D;thisComp.height;</p>
<p>hyp&#x3D;Math.sqrt((w<em>w)+(h</em>h));</p>
<p>aov&#x3D;44.9；&#x2F;&#x2F; 视角（以度为单位） &#x2F;&#x2F;</p>
<p>rad&#x3D;degsToRadians(aov&#x2F;2); &#x2F;&#x2F; 转换为弧度 &#x2F;&#x2F;</p>
<p>缩放&#x3D;hyp&#x2F;(2*Math.tan(rad))</p>
<p>[飞涨]</p>
<p><strong>&#x2F;&#x2F; 根据相机的变焦值计算视角 &#x2F;&#x2F;</strong></p>
<p>w&#x3D;thisComp.宽度；</p>
<p>h&#x3D;thisComp.height;</p>
<p>hyp&#x3D;Math.sqrt((w<em>w)+(h</em>h));</p>
<p>缩放&#x3D;2666.7；</p>
<p>*&#x2F;&#x2F; Zoom &#x3D; thisComp.layer(“相机1”).cameraOption.zoom; *或者直接从相机获取值&#x2F;&#x2F;</p>
<p>aov&#x3D;2<em>Math.atan(hyp&#x2F;(zoom</em>2));</p>
<p>aov&#x3D;radiansToDegrees(aov);</p>
<p>[aov]</p>
<p><strong>&#x2F;&#x2F; 根据相机的变焦和视角计算图像位置的对角线尺寸 &#x2F;&#x2F;</strong></p>
<p>缩放&#x3D;2666.7；</p>
<p><em>&#x2F;&#x2F; Zoom &#x3D; thisComp.layer(“相机1”).cameraOption.zoom; 或者直接从相机获取值 &#x2F;&#x2F;</em></p>
<p>aov&#x3D;44.885；</p>
<p>rad&#x3D;度数转弧度(aov);</p>
<p>hyp&#x3D;2<em>缩放</em>(Math.tan(rad&#x2F;2));</p>
<p>[嗨]</p>
<p><strong>&#x2F;&#x2F; 自动缩放 3D 图层，使其始终显示相同的大小 &#x2F;&#x2F;</strong></p>
<p>&#x2F;&#x2F; 假设活动相机称为“Camera 1” – 相应更改 &#x2F;&#x2F;</p>
<p>Campos&#x3D;thisComp.layer(“相机1”).toWorld([0,0,0]); &#x2F;&#x2F; 相机位置 &#x2F;&#x2F;</p>
<p>Zoom&#x3D;thisComp.layer(“相机1”).cameraOption.zoom; &#x2F;&#x2F; 相机变焦 &#x2F;&#x2F;</p>
<p>lpos&#x3D;thisLayer.toWorld(thisLayer.anchorPoint); &#x2F;&#x2F; 图层位置 &#x2F;&#x2F;</p>
<p>lscl&#x3D;thisLayer.transform.scale; &#x2F;&#x2F; 图层比例 &#x2F;&#x2F;</p>
<p>d&#x3D;长度(campos,lpos); &#x2F;&#x2F; 图层到相机的距离 &#x2F;&#x2F;</p>
<p>xscl&#x3D;lscl[0];yscl&#x3D;lscl[1];zscl&#x3D;lscl[2];</p>
<p>x&#x3D;(d&#x2F;缩放)*xscl;</p>
<p>y&#x3D;(d&#x2F;缩放)*yscl;</p>
<p>z&#x3D;(d&#x2F;缩放)*zscl;</p>
<p>[x,y,z]</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Ae/">Ae</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/12/29/%E5%89%AA%E8%BE%91%E7%AC%94%E8%AE%B0/" title="剪辑笔记"><img class="cover" src="/../images/post/%E5%89%AA%E8%BE%91%E7%AC%94%E8%AE%B0/1703830155089.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">剪辑笔记</div></div></a></div><div class="next-post pull-right"><a href="/2023/12/28/%E6%91%84%E5%BD%B1%E6%9E%84%E5%9B%BE/" title="摄影构图"><img class="cover" src="/../images/cover/%E6%91%84%E5%BD%B1%E6%9E%84%E5%9B%BE.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">摄影构图</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/06/26/Ae%E7%AC%94%E8%AE%B0/" title="Ae笔记"><img class="cover" src="/../images/cover/Ae_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-26</div><div class="title">Ae笔记</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">hiki</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF-%E2%80%93-%E7%9C%9F%E5%AE%9E%E7%9B%B8%E6%9C%BA-101"><span class="toc-number">1.</span> <span class="toc-text">背景 – 真实相机 101</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E2%80%94%E2%80%94%E5%92%8C%E8%AF%AF%E8%A7%A3%E2%80%94%E2%80%94%E9%80%8F%E8%A7%86%E9%80%8F%E8%A7%86%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">理解——和误解——透视透视法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A1%E9%87%8F%E6%A0%87%E5%87%86"><span class="toc-number">3.</span> <span class="toc-text">衡量标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%89%E5%AD%A6%E6%9E%81%E5%AE%A2%E6%BC%94%E8%AE%B2"><span class="toc-number">4.</span> <span class="toc-text">光学极客演讲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD%E6%B7%B7%E4%B9%B1"><span class="toc-number">5.</span> <span class="toc-text">术语混乱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mm%E8%BF%99%E6%A0%B7%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3"><span class="toc-number">6.</span> <span class="toc-text">mm这样的问题怎么解决</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF%E5%90%91%E4%B8%8A%E3%80%81%E5%90%91%E4%B8%8B%E6%88%96%E7%A9%BF%E8%BF%87"><span class="toc-number">7.</span> <span class="toc-text">唯一的方法是向上、向下或穿过</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E6%98%AF%E4%BC%A0%E7%BB%9F"><span class="toc-number">8.</span> <span class="toc-text">这是传统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#After-Effects-%E2%80%93-%E8%BF%9B%E5%85%A5%E8%99%9A%E6%8B%9F%E4%B8%96%E7%95%8C"><span class="toc-number">9.</span> <span class="toc-text">After Effects – 进入虚拟世界</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#After-Effects-%E7%9B%B8%E6%9C%BA%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.</span> <span class="toc-text">After Effects 相机设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%A9%E6%9A%96%E8%80%8C%E6%A8%A1%E7%B3%8A"><span class="toc-number">11.</span> <span class="toc-text">温暖而模糊</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%A9%E5%B0%8F%E8%A7%84%E6%A8%A1%EF%BC%8C%E7%BC%A9%E5%B0%8F%E8%A7%84%E6%A8%A1%EF%BC%8C%E7%BC%A9%E5%B0%8F%E8%A7%84%E6%A8%A1"><span class="toc-number">12.</span> <span class="toc-text">缩小规模，缩小规模，缩小规模</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%EF%BC%8C%E6%95%B0%E5%AD%A6%EF%BC%8C%E6%95%B0%E5%AD%A6%EF%BC%8C%E8%BF%99%E5%B0%B1%E6%98%AF%E4%BB%96%E4%BB%AC%E6%89%80%E6%83%B3%E7%9A%84%E4%B8%80%E5%88%87"><span class="toc-number">13.</span> <span class="toc-text">数学，数学，数学，这就是他们所想的一切</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%84%E6%A8%A1%E5%8C%96%E2%80%94%E2%80%94%E5%87%AD%E6%84%9F%E8%A7%89"><span class="toc-number">14.</span> <span class="toc-text">规模化——凭感觉</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B4%E8%B6%A3%E8%A1%A8%E8%BE%BE"><span class="toc-number">15.</span> <span class="toc-text">兴趣表达</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/02/C4D%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" title="C4D核心基础笔记 (一) 参数化对象与生成器"><img src="/../images/cover/C4D-Tutorial_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C4D核心基础笔记 (一) 参数化对象与生成器"/></a><div class="content"><a class="title" href="/2026/01/02/C4D%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" title="C4D核心基础笔记 (一) 参数化对象与生成器">C4D核心基础笔记 (一) 参数化对象与生成器</a><time datetime="2026-01-02T09:30:24.000Z" title="发表于 2026-01-02 17:30:24">2026-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/02/C4D%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" title="C4D核心基础笔记 (二) 多边形建模"><img src="/../images/cover/C4D-Tutorial_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C4D核心基础笔记 (二) 多边形建模"/></a><div class="content"><a class="title" href="/2026/01/02/C4D%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" title="C4D核心基础笔记 (二) 多边形建模">C4D核心基础笔记 (二) 多边形建模</a><time datetime="2026-01-02T09:30:24.000Z" title="发表于 2026-01-02 17:30:24">2026-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/02/C4D%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/" title="C4D基础笔记"><img src="/../images/cover/C4D-Tutorial_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C4D基础笔记"/></a><div class="content"><a class="title" href="/2026/01/02/C4D%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/" title="C4D基础笔记">C4D基础笔记</a><time datetime="2026-01-01T16:19:19.000Z" title="发表于 2026-01-02 00:19:19">2026-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/14/CS2%E9%98%B2%E5%AE%88%E9%80%89%E4%BD%8D/" title="CS2 防守选位"><img src="/../images/cover/CS2-%E9%98%B2%E5%AE%88.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CS2 防守选位"/></a><div class="content"><a class="title" href="/2025/12/14/CS2%E9%98%B2%E5%AE%88%E9%80%89%E4%BD%8D/" title="CS2 防守选位">CS2 防守选位</a><time datetime="2025-12-13T16:01:52.000Z" title="发表于 2025-12-14 00:01:52">2025-12-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/13/CS2-Inferno-%E9%81%93%E5%85%B7/" title="CS2-Inferno-道具"><img src="/../images/cover/CS2-Inferno_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CS2-Inferno-道具"/></a><div class="content"><a class="title" href="/2025/08/13/CS2-Inferno-%E9%81%93%E5%85%B7/" title="CS2-Inferno-道具">CS2-Inferno-道具</a><time datetime="2025-08-12T16:20:48.000Z" title="发表于 2025-08-13 00:20:48">2025-08-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2026 By hiki</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="40,170,240" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>